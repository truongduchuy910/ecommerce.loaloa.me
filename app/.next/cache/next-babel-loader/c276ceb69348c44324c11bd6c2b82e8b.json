{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { getErrorMessage } from \"../lib/form\";\nimport { useState } from \"react\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      padding: theme.spacing(1),\n      marginBottom: theme.spacing(2)\n    }\n  };\n});\nvar gioSinhs = [{\n  value: \"1\",\n  label: \"Tí (23g - 1g)\"\n}, {\n  value: \"2\",\n  label: \"Sửu (1g - 3g)\"\n}, {\n  value: \"3\",\n  label: \"Dần (3g - 5g)\"\n}, {\n  value: \"4\",\n  label: \"Mão (5g - 7g)\"\n}, {\n  value: \"5\",\n  label: \"Thìn (7g - 9g)\"\n}, {\n  value: \"6\",\n  label: \"Tị (9g - 11g)\"\n}, {\n  value: \"7\",\n  label: \"Ngọ (11g - 13g)\"\n}, {\n  value: \"8\",\n  label: \"Mùi (13g - 15g)\"\n}, {\n  value: \"9\",\n  label: \"Thân (15g - 17g)\"\n}, {\n  value: \"10\",\n  label: \"Dậu (17g - 19g)\"\n}, {\n  value: \"11\",\n  label: \"Tuất (19g - 21g)\"\n}, {\n  value: \"12\",\n  label: \"Hợi (21g - 23g)\"\n}];\n\nvar createLaSo = function createLaSo(_ref) {\n  var onCreate = _ref.onCreate;\n  var classes = useStyles();\n\n  var _useState = useState(new Date().toLocaleDateString(\"fr-CA\").replace(/\\//g, \"-\")),\n      ngaySinh = _useState[0],\n      setNgaySinh = _useState[1];\n\n  var _useState2 = useState(1),\n      gioSinh = _useState2[0],\n      setGioSinh = _useState2[1];\n\n  var _useState3 = useState(\"off\"),\n      amLich = _useState3[0],\n      setAmLich = _useState3[1];\n\n  var _useState4 = useState(\"nam\"),\n      gioiTinh = _useState4[0],\n      setGioiTinh = _useState4[1];\n\n  var handleChange = function handleChange(event) {\n    setGioSinh(event.target.value);\n  };\n\n  var handleDateChange = function handleDateChange(date) {\n    setNgaySinh(date.target.value);\n  };\n\n  var handleAmLichChange = function handleAmLichChange(event) {\n    setAmLich(event.target.value);\n  };\n\n  var handleGioiTinhChange = function handleGioiTinhChange(event) {\n    setGioiTinh(event.target.value);\n  };\n\n  function handleSubmit() {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              onCreate(true);\n              _context.prev = 1;\n              _context.next = 4;\n              return fetch(\"/laso?ngaySinh=\".concat(ngaySinh, \"&gioSinh=\").concat(gioSinh, \"&amLich=\").concat(amLich, \"&gioiTinh=\").concat(gioiTinh));\n\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return res.json();\n\n            case 7:\n              data = _context.sent;\n              onCreate(data);\n              _context.next = 16;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              setAlertMessage(getErrorMessage(_context.t0));\n              setAlertOpen(true);\n              onCreate(false);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 11]]);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  return __jsx(Paper, {\n    className: classes.root\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    id: \"date\",\n    size: \"small\",\n    fullWidth: true,\n    label: \"Ng\\xE0y sinh\",\n    type: \"date\",\n    InputLabelProps: {\n      shrink: true\n    },\n    variant: \"outlined\",\n    onChange: handleDateChange,\n    defaultValue: ngaySinh\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    id: \"outlined-select-gioSinh\",\n    size: \"small\",\n    fullWidth: true,\n    select: true,\n    label: \"Gi\\u1EDD sinh\",\n    value: gioSinh,\n    onChange: handleChange,\n    variant: \"outlined\"\n  }, gioSinhs.map(function (option) {\n    return __jsx(MenuItem, {\n      key: option.value,\n      value: option.value\n    }, option.label);\n  }))), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormControl, {\n    component: \"fieldset\"\n  }, __jsx(FormLabel, {\n    component: \"legend\"\n  }, \"L\\u1EA5y theo\"), __jsx(RadioGroup, {\n    onChange: handleAmLichChange\n  }, __jsx(FormControlLabel, {\n    value: \"off\",\n    checked: amLich == \"off\",\n    control: __jsx(Radio, null),\n    label: \"D\\u01B0\\u01A1ng l\\u1ECBch\"\n  }), __jsx(FormControlLabel, {\n    checked: amLich == \"on\",\n    value: \"on\",\n    control: __jsx(Radio, null),\n    label: \"\\xC2m l\\u1ECBch\"\n  })))), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormControl, {\n    component: \"fieldset\"\n  }, __jsx(FormLabel, {\n    component: \"legend\"\n  }, \"Gi\\u1EDBi t\\xEDnh\"), __jsx(RadioGroup, {\n    onChange: handleGioiTinhChange\n  }, __jsx(FormControlLabel, {\n    value: \"nam\",\n    checked: gioiTinh == \"nam\",\n    control: __jsx(Radio, null),\n    label: \"Nam\"\n  }), __jsx(FormControlLabel, {\n    value: \"nu\",\n    control: __jsx(Radio, null),\n    label: \"N\\u1EEF\"\n  })))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    fullWidth: true,\n    onClick: handleSubmit\n  }, \"L\\u1EA5y L\\xE1 S\\u1ED1\"))));\n};\n\nexport default createLaSo;","map":null,"metadata":{},"sourceType":"module"}