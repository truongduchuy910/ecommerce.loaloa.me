{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { gql, useQuery } from \"@apollo/client\";\nimport { layPhuTinhs } from \"../lib/laSoAdapter\";\nconst query = gql`\n  query {\n    allPhuTinhs {\n      id\n      name\n    }\n  }\n`;\nexport default function phuTinhs({\n  cung,\n  setCung,\n  label,\n  PT,\n  setPT\n}) {\n  const {\n    data,\n    loading,\n    error\n  } = useQuery(query);\n  const shouldRedirect = !(loading || data);\n  const router = useRouter();\n  useEffect(() => {\n    if (shouldRedirect) {\n      router.push(\"/signin\");\n    }\n  }, [shouldRedirect]);\n\n  if ((data === null || data === void 0 ? void 0 : data.allPhuTinhs) && cung) {\n    setPT(layPhuTinhs({\n      allPhuTinhs: data.allPhuTinhs,\n      cung\n    }).PT);\n    setCung(false);\n  }\n\n  return (data === null || data === void 0 ? void 0 : data.allPhuTinhs) && !loading ? __jsx(Autocomplete, {\n    value: PT || {},\n    onChange: (event, value) => {\n      setPT(value);\n    },\n    multiple: true,\n    size: \"small\",\n    options: data.allPhuTinhs,\n    getOptionLabel: option => {\n      return option ? option.name : {};\n    },\n    filterSelectedOptions: true,\n    renderInput: params => __jsx(TextField, _extends({}, params, {\n      variant: \"outlined\",\n      label: label ? label : \"Phá»¥ tinh\"\n    }))\n  }) : __jsx(Skeleton, {\n    variant: \"rect\",\n    height: 40\n  });\n}","map":null,"metadata":{},"sourceType":"module"}