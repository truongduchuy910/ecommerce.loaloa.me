{"ast":null,"code":"var _jsxFileName = \"/home/truongduchuy910/apps/loaloa/app/pages/logout.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { request } from \"graphql-request\";\n\nfunction Logout() {\n  return __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 3\n    },\n    __self: this\n  }, \"OK\");\n}\n\nLogout.getInitialProps = async ({\n  req,\n  res\n}) => {\n  let a = \"\";\n  if (true) a = \"http://\";else a = \"https://\";\n\n  if (req) {\n    var uri = a + req.headers.host + \"/admin/api\";\n  } else {\n    var uri = window.location.origin + \"/admin/api\";\n  }\n\n  let data = await request(uri, `mutation {\n    unauthenticateUser {\n      success\n    }\n  }`);\n  console.log(data);\n  res.writeHead(302, {\n    Location: \"/login\"\n  });\n  res.end();\n  return {};\n};\n\nexport default Logout;","map":{"version":3,"sources":["/home/truongduchuy910/apps/loaloa/app/pages/logout.js"],"names":["request","Logout","getInitialProps","req","res","a","uri","headers","host","window","location","origin","data","console","log","writeHead","Location","end"],"mappings":";;;AAAA,SAASA,OAAT,QAAwB,iBAAxB;;AACA,SAASC,MAAT,GAAkB;AAChB,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AACDA,MAAM,CAACC,eAAP,GAAyB,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAAP,KAAwB;AAC/C,MAAIC,CAAC,GAAG,EAAR;AACA,YAA2CA,CAAC,GAAG,SAAJ,CAA3C,KACKA,CAAC,GAAG,UAAJ;;AACL,MAAIF,GAAJ,EAAS;AACP,QAAIG,GAAG,GAAGD,CAAC,GAAGF,GAAG,CAACI,OAAJ,CAAYC,IAAhB,GAAuB,YAAjC;AACD,GAFD,MAEO;AACL,QAAIF,GAAG,GAAGG,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAAyB,YAAnC;AACD;;AAED,MAAIC,IAAI,GAAG,MAAMZ,OAAO,CACtBM,GADsB,EAErB;;;;IAFqB,CAAxB;AAQAO,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAR,EAAAA,GAAG,CAACW,SAAJ,CAAc,GAAd,EAAmB;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAnB;AACAZ,EAAAA,GAAG,CAACa,GAAJ;AACA,SAAO,EAAP;AACD,CAtBD;;AAuBA,eAAehB,MAAf","sourcesContent":["import { request } from \"graphql-request\";\nfunction Logout() {\n  return <h1>OK</h1>;\n}\nLogout.getInitialProps = async ({ req, res }) => {\n  let a = \"\";\n  if (process.env.NODE_ENV == \"development\") a = \"http://\";\n  else a = \"https://\";\n  if (req) {\n    var uri = a + req.headers.host + \"/admin/api\";\n  } else {\n    var uri = window.location.origin + \"/admin/api\";\n  }\n\n  let data = await request(\n    uri,\n    `mutation {\n    unauthenticateUser {\n      success\n    }\n  }`\n  );\n  console.log(data);\n  res.writeHead(302, { Location: \"/login\" });\n  res.end();\n  return {};\n};\nexport default Logout;\n"]},"metadata":{},"sourceType":"module"}