{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { getErrorMessage } from \"../lib/form\";\nimport { useState } from \"react\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(2)\n  }\n}));\nconst gioSinhs = [{\n  value: \"1\",\n  label: \"Tí (23g - 1g)\"\n}, {\n  value: \"2\",\n  label: \"Sửu (1g - 3g)\"\n}, {\n  value: \"3\",\n  label: \"Dần (3g - 5g)\"\n}, {\n  value: \"4\",\n  label: \"Mão (5g - 7g)\"\n}, {\n  value: \"5\",\n  label: \"Thìn (7g - 9g)\"\n}, {\n  value: \"6\",\n  label: \"Tị (9g - 11g)\"\n}, {\n  value: \"7\",\n  label: \"Ngọ (11g - 13g)\"\n}, {\n  value: \"8\",\n  label: \"Mùi (13g - 15g)\"\n}, {\n  value: \"9\",\n  label: \"Thân (15g - 17g)\"\n}, {\n  value: \"10\",\n  label: \"Dậu (17g - 19g)\"\n}, {\n  value: \"11\",\n  label: \"Tuất (19g - 21g)\"\n}, {\n  value: \"12\",\n  label: \"Hợi (21g - 23g)\"\n}];\n\nconst createLaSo = ({\n  onCreate\n}) => {\n  const classes = useStyles();\n  const {\n    0: ngaySinh,\n    1: setNgaySinh\n  } = useState(new Date().toLocaleDateString(\"fr-CA\").replace(/\\//g, \"-\"));\n  const {\n    0: gioSinh,\n    1: setGioSinh\n  } = useState(1);\n  const {\n    0: amLich,\n    1: setAmLich\n  } = useState(\"off\");\n  const {\n    0: gioiTinh,\n    1: setGioiTinh\n  } = useState(\"nam\");\n\n  const handleChange = event => {\n    setGioSinh(event.target.value);\n  };\n\n  const handleDateChange = date => {\n    setNgaySinh(date.target.value);\n  };\n\n  const handleAmLichChange = event => {\n    setAmLich(event.target.value);\n  };\n\n  const handleGioiTinhChange = event => {\n    setGioiTinh(event.target.value);\n  };\n\n  async function handleSubmit() {\n    onCreate(true);\n\n    try {\n      const res = await fetch(`/laso?ngaySinh=${ngaySinh}&gioSinh=${gioSinh}&amLich=${amLich}&gioiTinh=${gioiTinh}`);\n      const data = await res.json();\n      onCreate(data);\n    } catch (error) {\n      setAlertMessage(getErrorMessage(error));\n      setAlertOpen(true);\n      onCreate(false);\n    }\n  }\n\n  return __jsx(Paper, {\n    className: classes.root\n  }, __jsx(Grid, {\n    container: true,\n    spacing: 1\n  }, __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    id: \"date\",\n    size: \"small\",\n    fullWidth: true,\n    label: \"Ng\\xE0y sinh\",\n    type: \"date\",\n    InputLabelProps: {\n      shrink: true\n    },\n    variant: \"outlined\",\n    onChange: handleDateChange,\n    defaultValue: ngaySinh\n  })), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(TextField, {\n    id: \"outlined-select-gioSinh\",\n    size: \"small\",\n    fullWidth: true,\n    select: true,\n    label: \"Gi\\u1EDD sinh\",\n    value: gioSinh,\n    onChange: handleChange,\n    variant: \"outlined\"\n  }, gioSinhs.map(option => __jsx(MenuItem, {\n    key: option.value,\n    value: option.value\n  }, option.label)))), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormControl, {\n    component: \"fieldset\"\n  }, __jsx(FormLabel, {\n    component: \"legend\"\n  }, \"L\\u1EA5y theo\"), __jsx(RadioGroup, {\n    onChange: handleAmLichChange\n  }, __jsx(FormControlLabel, {\n    value: \"off\",\n    checked: amLich == \"off\",\n    control: __jsx(Radio, null),\n    label: \"D\\u01B0\\u01A1ng l\\u1ECBch\"\n  }), __jsx(FormControlLabel, {\n    checked: amLich == \"on\",\n    value: \"on\",\n    control: __jsx(Radio, null),\n    label: \"\\xC2m l\\u1ECBch\"\n  })))), __jsx(Grid, {\n    item: true,\n    xs: 6\n  }, __jsx(FormControl, {\n    component: \"fieldset\"\n  }, __jsx(FormLabel, {\n    component: \"legend\"\n  }, \"Gi\\u1EDBi t\\xEDnh\"), __jsx(RadioGroup, {\n    onChange: handleGioiTinhChange\n  }, __jsx(FormControlLabel, {\n    value: \"nam\",\n    checked: gioiTinh == \"nam\",\n    control: __jsx(Radio, null),\n    label: \"Nam\"\n  }), __jsx(FormControlLabel, {\n    value: \"nu\",\n    control: __jsx(Radio, null),\n    label: \"N\\u1EEF\"\n  })))), __jsx(Grid, {\n    item: true,\n    xs: 12\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    fullWidth: true,\n    onClick: handleSubmit\n  }, \"L\\u1EA5y L\\xE1 S\\u1ED1\"))));\n};\n\nexport default createLaSo;","map":null,"metadata":{},"sourceType":"module"}