{"ast":null,"code":"var _jsxFileName = \"/home/huy/apps/ecommerce/app/components/Product/detail.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n// Cac component khac su dung query va them vao thuoc tinh cua no de dieu huong\n// Vo tinh lam cho [slug] khi su dung dynamic router xuat hien o trang dieu huong\n// Nen viet cac itemOne khac de tranh di\n//\nimport { Item as BrandItem } from \"../../components/Brand/itemOne\";\nimport { Item as CategoryItem } from \"../../components/Category/itemOne\";\nimport { List as AttributeGroups } from \"../../components/AttributeGroups/listOne\";\nimport { css } from \"../src/css\";\nimport { formatMoney } from \"../../lib/chip\";\nimport { addProductToLocalCart, removeCartItem } from \"../../apollo/action\";\nimport { Fragment, useState } from \"react\";\nimport { page } from \"../../config/index\";\nimport { Row, Col } from \"reactstrap\";\nimport { ImgProduct } from \"./imageProduct\";\nimport { Box } from \"../src/Box\";\nimport { useSpring, animated } from \"react-spring\";\nimport { theme } from \"../../config/index\";\nimport { QuickCart } from \"../Cart/quickCart\";\nimport { gql, useQuery } from \"@apollo/client\";\nconst GET_CART = gql`\n  query {\n    cartItems @client\n  }\n`;\nexport function Product({\n  product\n}) {\n  var _data$cartItems;\n\n  const {\n    data\n  } = useQuery(GET_CART);\n  const isIncart = data === null || data === void 0 ? void 0 : (_data$cartItems = data.cartItems) === null || _data$cartItems === void 0 ? void 0 : _data$cartItems.some(item => item.product.id === product.id);\n  console.log(isIncart);\n  const {\n    0: open,\n    1: toggle\n  } = useState(false);\n  const {\n    0: quickCart,\n    1: setQuickCart\n  } = useState(false);\n  const props = useSpring({\n    top: 100,\n    right: 0,\n    zIndex: 11,\n    width: open ? 940 : 340,\n    right: 0,\n    from: {\n      width: 0\n    }\n  });\n  return __jsx(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, __jsx(Col, {\n    xs: 12,\n    lg: 6,\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(ImgProduct, {\n    product: product,\n    style: {\n      borderRadius: theme.spacing(1),\n      marginBottom: theme.spacing(3)\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), __jsx(Col, {\n    lg: 6,\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    style: css.h1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, product.name), __jsx(\"h5\", {\n    style: {\n      textDecoration: product.sale ? \"line-through\" : \"\",\n      color: product.sale ? \"var(--secondary)\" : \"default\",\n      fontSize: product.sale ? 15 : \"default\",\n      float: product.sale ? \"right\" : \"default\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, formatMoney(product.price)), product.sale ? __jsx(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, formatMoney(product.price - product.sale)) : null, __jsx(\"div\", {\n    style: {\n      marginTop: theme.spacing(4),\n      marginBottom: theme.spacing(4)\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, product.brand ? __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, __jsx(\"h5\", {\n    style: css.h5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"Th\\u01B0\\u01A1ng Hi\\u1EC7u\")), __jsx(Col, {\n    xs: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(BrandItem, {\n    brand: product.brand,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }))) : null, product.category ? __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, __jsx(Col, {\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, __jsx(\"h5\", {\n    style: css.h5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Danh M\\u1EE5c\")), __jsx(Col, {\n    xs: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, __jsx(CategoryItem, {\n    category: product.category,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), \" \")) : null, product.attributeGroups ? __jsx(AttributeGroups, {\n    attributeGroups: product.attributeGroups,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }) : null), quickCart ? __jsx(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, __jsx(QuickCart, {\n    cartItems: [{\n      product,\n      quantity: 1,\n      price: product.price - product.sale\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), __jsx(\"a\", {\n    onClick: () => {\n      setQuickCart(false);\n    },\n    style: {\n      marginBottom: theme.spacing(3),\n      display: \"block\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \"Tho\\xE1t mua nhanh\")) : __jsx(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, isIncart ? __jsx(\"button\", {\n    style: _objectSpread({}, css.button),\n    onClick: () => {\n      removeCartItem({\n        product\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"B\\u1ECF kh\\u1ECFi gi\\u1ECF h\\xE0ng\") : __jsx(\"button\", {\n    onClick: () => {\n      addProductToLocalCart({\n        product\n      });\n    },\n    style: _objectSpread({}, css.button),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Th\\xEAm v\\xE0o gi\\u1ECF h\\xE0ng\"), __jsx(\"a\", {\n    onClick: () => {\n      setQuickCart(true);\n    },\n    style: {\n      marginBottom: theme.spacing(3),\n      display: \"block\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, \"Mua nhanh\"))))), __jsx(\"div\", {\n    style: css.box,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, __jsx(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, product.description ? __jsx(Col, {\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, __jsx(\"h5\", {\n    style: css.h5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, \"M\\xF4 T\\u1EA3\"), __jsx(\"p\", {\n    style: {\n      color: theme.color\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, product.description)) : null, product.guide ? __jsx(Col, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, __jsx(\"h5\", {\n    style: css.h5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"H\\u01B0\\u1EDBng d\\u1EABn\"), __jsx(\"p\", {\n    style: {\n      color: theme.color\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, product.guide)) : null, __jsx(Col, {\n    xs: 12,\n    md: open ? 12 : 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, __jsx(\"center\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, product.file ? __jsx(\"img\", {\n    src: page.server + product.file.publicUrl,\n    style: {\n      width: \"100%\"\n    },\n    onClick: () => {\n      toggle(!open);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }) : null)), __jsx(Col, {\n    lg: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/home/huy/apps/ecommerce/app/components/Product/detail.js"],"names":["Item","BrandItem","CategoryItem","List","AttributeGroups","css","formatMoney","addProductToLocalCart","removeCartItem","Fragment","useState","page","Row","Col","ImgProduct","Box","useSpring","animated","theme","QuickCart","gql","useQuery","GET_CART","Product","product","data","isIncart","cartItems","some","item","id","console","log","open","toggle","quickCart","setQuickCart","props","top","right","zIndex","width","from","display","justifyContent","alignItems","borderRadius","spacing","marginBottom","h1","name","textDecoration","sale","color","fontSize","float","price","marginTop","brand","h5","category","attributeGroups","quantity","button","box","description","guide","file","server","publicUrl"],"mappings":"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","sourcesContent":["//\n// Cac component khac su dung query va them vao thuoc tinh cua no de dieu huong\n// Vo tinh lam cho [slug] khi su dung dynamic router xuat hien o trang dieu huong\n// Nen viet cac itemOne khac de tranh di\n//\nimport { Item as BrandItem } from \"../../components/Brand/itemOne\";\nimport { Item as CategoryItem } from \"../../components/Category/itemOne\";\nimport { List as AttributeGroups } from \"../../components/AttributeGroups/listOne\";\nimport { css } from \"../src/css\";\nimport { formatMoney } from \"../../lib/chip\";\nimport { addProductToLocalCart, removeCartItem } from \"../../apollo/action\";\nimport { Fragment, useState } from \"react\";\nimport { page } from \"../../config/index\";\n\nimport { Row, Col } from \"reactstrap\";\nimport { ImgProduct } from \"./imageProduct\";\n\nimport { Box } from \"../src/Box\";\n\nimport { useSpring, animated } from \"react-spring\";\nimport { theme } from \"../../config/index\";\n\nimport { QuickCart } from \"../Cart/quickCart\";\nimport { gql, useQuery } from \"@apollo/client\";\nconst GET_CART = gql`\n  query {\n    cartItems @client\n  }\n`;\nexport function Product({ product }) {\n  const { data } = useQuery(GET_CART);\n  const isIncart = data?.cartItems?.some(\n    (item) => item.product.id === product.id\n  );\n  console.log(isIncart);\n  const [open, toggle] = useState(false);\n  const [quickCart, setQuickCart] = useState(false);\n  const props = useSpring({\n    top: 100,\n    right: 0,\n    zIndex: 11,\n    width: open ? 940 : 340,\n    right: 0,\n    from: { width: 0 },\n  });\n\n  return (\n    <Fragment>\n      <Row>\n        <Col\n          xs={12}\n          lg={6}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <ImgProduct\n            product={product}\n            style={{\n              borderRadius: theme.spacing(1),\n              marginBottom: theme.spacing(3),\n            }}\n          />\n        </Col>\n        <Col\n          lg={6}\n          style={{\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <div>\n            <h1 style={css.h1}>{product.name}</h1>\n\n            <h5\n              style={{\n                textDecoration: product.sale ? \"line-through\" : \"\",\n                color: product.sale ? \"var(--secondary)\" : \"default\",\n                fontSize: product.sale ? 15 : \"default\",\n                float: product.sale ? \"right\" : \"default\",\n              }}\n            >\n              {formatMoney(product.price)}\n            </h5>\n\n            {product.sale ? (\n              <h5>{formatMoney(product.price - product.sale)}</h5>\n            ) : null}\n            <div\n              style={{\n                marginTop: theme.spacing(4),\n                marginBottom: theme.spacing(4),\n              }}\n            >\n              {product.brand ? (\n                <Row>\n                  <Col xs={4}>\n                    <h5 style={css.h5}>Thương Hiệu</h5>\n                  </Col>\n                  <Col xs={8}>\n                    <BrandItem brand={product.brand} />\n                  </Col>\n                </Row>\n              ) : null}\n              {product.category ? (\n                <Row>\n                  <Col xs={4}>\n                    <h5 style={css.h5}>Danh Mục</h5>\n                  </Col>\n                  <Col xs={8}>\n                    <CategoryItem category={product.category} />{\" \"}\n                  </Col>\n                </Row>\n              ) : null}\n              {product.attributeGroups ? (\n                <AttributeGroups attributeGroups={product.attributeGroups} />\n              ) : null}\n            </div>\n            {quickCart ? (\n              <Fragment>\n                <QuickCart\n                  cartItems={[\n                    {\n                      product,\n                      quantity: 1,\n                      price: product.price - product.sale,\n                    },\n                  ]}\n                />\n                <a\n                  onClick={() => {\n                    setQuickCart(false);\n                  }}\n                  style={{ marginBottom: theme.spacing(3), display: \"block\" }}\n                >\n                  Thoát mua nhanh\n                </a>\n              </Fragment>\n            ) : (\n              <Fragment>\n                {isIncart ? (\n                  <button\n                    style={{ ...css.button }}\n                    onClick={() => {\n                      removeCartItem({ product });\n                    }}\n                  >\n                    Bỏ khỏi giỏ hàng\n                  </button>\n                ) : (\n                  <button\n                    onClick={() => {\n                      addProductToLocalCart({ product });\n                    }}\n                    style={{ ...css.button }}\n                  >\n                    Thêm vào giỏ hàng\n                  </button>\n                )}\n                <a\n                  onClick={() => {\n                    setQuickCart(true);\n                  }}\n                  style={{ marginBottom: theme.spacing(3), display: \"block\" }}\n                >\n                  Mua nhanh\n                </a>\n              </Fragment>\n            )}\n          </div>\n        </Col>\n      </Row>\n\n      <div style={css.box}>\n        <Row>\n          {product.description ? (\n            <Col xs={12}>\n              <h5 style={css.h5}>Mô Tả</h5>\n              <p style={{ color: theme.color }}>{product.description}</p>\n            </Col>\n          ) : null}\n          {product.guide ? (\n            <Col>\n              <h5 style={css.h5}>Hướng dẫn</h5>\n\n              <p style={{ color: theme.color }}>{product.guide}</p>\n            </Col>\n          ) : null}\n          <Col xs={12} md={open ? 12 : 6}>\n            <center>\n              {product.file ? (\n                <img\n                  src={page.server + product.file.publicUrl}\n                  style={{ width: \"100%\" }}\n                  onClick={() => {\n                    toggle(!open);\n                  }}\n                />\n              ) : null}\n            </center>\n          </Col>\n\n          <Col lg={12}></Col>\n        </Row>\n      </div>\n    </Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}