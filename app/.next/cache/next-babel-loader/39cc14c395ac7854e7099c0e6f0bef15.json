{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar _jsxFileName = \"/home/truongduchuy910/apps/loaloa/app/pages/logout.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { request } from \"graphql-request\";\nimport getGraphUri from \"../utils/getGraphUri\";\nimport { logout } from \"../utils/auth\";\n\nfunction Logout() {\n  return __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 5\n    },\n    __self: this\n  }, \"OK\");\n}\n\nLogout.getInitialProps = function _callee(ctx) {\n  var data;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(request(getGraphUri(ctx), \"mutation {\\n    unauthenticateUser {\\n      success\\n    }\\n  }\"));\n\n        case 2:\n          data = _context.sent;\n          console.log(data);\n          logout();\n          res.writeHead(302, {\n            Location: \"/login\"\n          });\n          res.end();\n          return _context.abrupt(\"return\", {});\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};\n\nexport default Logout;","map":{"version":3,"sources":["/home/truongduchuy910/apps/loaloa/app/pages/logout.js"],"names":["request","getGraphUri","logout","Logout","getInitialProps","ctx","data","console","log","res","writeHead","Location","end"],"mappings":";;;;AAAA,SAASA,OAAT,QAAwB,iBAAxB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,SAASC,MAAT,QAAuB,eAAvB;;AACA,SAASC,MAAT,GAAkB;AAChB,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AACDA,MAAM,CAACC,eAAP,GAAyB,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACNL,OAAO,CACtBC,WAAW,CAACI,GAAD,CADW,oEADD;;AAAA;AACnBC,UAAAA,IADmB;AASvBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAJ,UAAAA,MAAM;AACNO,UAAAA,GAAG,CAACC,SAAJ,CAAc,GAAd,EAAmB;AAAEC,YAAAA,QAAQ,EAAE;AAAZ,WAAnB;AACAF,UAAAA,GAAG,CAACG,GAAJ;AAZuB,2CAahB,EAbgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB;;AAeA,eAAeT,MAAf","sourcesContent":["import { request } from \"graphql-request\";\nimport getGraphUri from \"../utils/getGraphUri\";\nimport { logout } from \"../utils/auth\";\nfunction Logout() {\n  return <h1>OK</h1>;\n}\nLogout.getInitialProps = async ctx => {\n  let data = await request(\n    getGraphUri(ctx),\n    `mutation {\n    unauthenticateUser {\n      success\n    }\n  }`\n  );\n  console.log(data);\n  logout();\n  res.writeHead(302, { Location: \"/login\" });\n  res.end();\n  return {};\n};\nexport default Logout;\n"]},"metadata":{},"sourceType":"module"}