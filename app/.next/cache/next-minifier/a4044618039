{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{\"2vW9\":function(e,t,o){\"use strict\";var a=o(\"Fcif\"),n=o(\"dV/x\"),r=o(\"mXGw\"),i=(o(\"W0B4\"),o(\"PDtE\")),s=o(\"gbh0\"),c=o(\"mxPc\"),l=o(\"bJWG\"),u=r.forwardRef((function(e,t){var o=e.classes,s=e.className,u=e.color,d=void 0===u?\"primary\":u,p=e.position,m=void 0===p?\"fixed\":p,b=Object(n.a)(e,[\"classes\",\"className\",\"color\",\"position\"]);return r.createElement(l.a,Object(a.a)({square:!0,component:\"header\",elevation:4,className:Object(i.a)(o.root,o[\"position\".concat(Object(c.a)(m))],o[\"color\".concat(Object(c.a)(d))],s,\"fixed\"===m&&\"mui-fixed\"),ref:t},b))}));t.a=Object(s.a)((function(e){var t=\"light\"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:\"flex\",flexDirection:\"column\",width:\"100%\",boxSizing:\"border-box\",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:\"fixed\",top:0,left:\"auto\",right:0,\"@media print\":{position:\"absolute\"}},positionAbsolute:{position:\"absolute\",top:0,left:\"auto\",right:0},positionSticky:{position:\"sticky\",top:0,left:\"auto\",right:0},positionStatic:{position:\"static\",transform:\"translateZ(0)\"},positionRelative:{position:\"relative\"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:\"inherit\"},colorTransparent:{backgroundColor:\"transparent\",color:\"inherit\"}}}),{name:\"MuiAppBar\"})(u)},\"8NVm\":function(e,t,o){\"use strict\";var a=o(\"Fcif\"),n=o(\"dV/x\"),r=o(\"mK0O\"),i=o(\"mXGw\"),s=(o(\"W0B4\"),o(\"PDtE\")),c=o(\"gbh0\"),l=i.forwardRef((function(e,t){var o=e.classes,r=e.className,c=e.component,l=void 0===c?\"div\":c,u=e.disableGutters,d=void 0!==u&&u,p=e.variant,m=void 0===p?\"regular\":p,b=Object(n.a)(e,[\"classes\",\"className\",\"component\",\"disableGutters\",\"variant\"]);return i.createElement(l,Object(a.a)({className:Object(s.a)(o.root,o[m],r,!d&&o.gutters),ref:t},b))}));t.a=Object(c.a)((function(e){return{root:{position:\"relative\",display:\"flex\",alignItems:\"center\"},gutters:Object(r.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up(\"sm\"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:\"MuiToolbar\"})(l)},I4Pu:function(e,t,o){\"use strict\";var a=o(\"Fcif\"),n=o(\"mXGw\"),r=(o(\"W0B4\"),o(\"gbh0\")),i={WebkitFontSmoothing:\"antialiased\",MozOsxFontSmoothing:\"grayscale\",boxSizing:\"border-box\"},s=function(e){return Object(a.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,\"@media print\":{backgroundColor:e.palette.common.white}})};t.a=Object(r.a)((function(e){return{\"@global\":{html:i,\"*, *::before, *::after\":{boxSizing:\"inherit\"},\"strong, b\":{fontWeight:e.typography.fontWeightBold},body:Object(a.a)({margin:0},s(e),{\"&::backdrop\":{backgroundColor:e.palette.background.default}})}}}),{name:\"MuiCssBaseline\"})((function(e){var t=e.children,o=void 0===t?null:t;return e.classes,n.createElement(n.Fragment,null,o)}))},R82R:function(e,t,o){\"use strict\";var a=o(\"Fcif\"),n=o(\"Ns/9\"),r=o(\"qSp0\");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(e,Object(a.a)({defaultTheme:r.a},t))}},TxZt:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/supporterChat\",function(){return o(\"p9iR\")}])},bJWG:function(e,t,o){\"use strict\";var a=o(\"dV/x\"),n=o(\"Fcif\"),r=o(\"mXGw\"),i=(o(\"W0B4\"),o(\"PDtE\")),s=o(\"gbh0\"),c=r.forwardRef((function(e,t){var o=e.classes,s=e.className,c=e.component,l=void 0===c?\"div\":c,u=e.square,d=void 0!==u&&u,p=e.elevation,m=void 0===p?1:p,b=e.variant,g=void 0===b?\"elevation\":b,f=Object(a.a)(e,[\"classes\",\"className\",\"component\",\"square\",\"elevation\",\"variant\"]);return r.createElement(l,Object(n.a)({className:Object(i.a)(o.root,s,\"outlined\"===g?o.outlined:o[\"elevation\".concat(m)],!d&&o.rounded),ref:t},f))}));t.a=Object(s.a)((function(e){var t={};return e.shadows.forEach((function(e,o){t[\"elevation\".concat(o)]={boxShadow:e}})),Object(n.a)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create(\"box-shadow\")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:\"1px solid \".concat(e.palette.divider)}},t)}),{name:\"MuiPaper\"})(c)},p9iR:function(e,t,o){\"use strict\";o.r(t);var a=o(\"UrUy\"),n=o.n(a),r=o(\"mXGw\"),i=o.n(r),s=o(\"R82R\"),c=o(\"2vW9\"),l=o(\"I4Pu\"),u=o(\"8NVm\"),d=o(\"SMlj\"),p=o(\"2W1i\"),m=o.n(p),b=o(\"eUpb\");!function(){var e=new Error(\"Cannot find module '../components/messages/allMessages'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module '../components/messages/createMessage'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var g=i.a.createElement,f=\"query($user: UserWhereInput) {\\n        allConversations(where: { members_some: $user }) {\\n            id\\n        }\\n    }\",v='query($conversation: ConversationWhereInput) {\\n        allMessages(orderBy: \"time_ASC\", where: { conversation: $conversation }) {\\n                seller {\\n                isCustomer\\n                isSupporter\\n                isAdmin\\n                email\\n                id\\n            }\\n            id\\n            text\\n            time\\n        }\\n    }',h=Object(s.a)((function(e){return{text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:\"auto\",bottom:0,backgroundColor:\"white\",boxShadow:\"none\"},toolbar:{padding:13,boder:\"none\"},grow:{flexGrow:1},fabButton:{position:\"absolute\",zIndex:1,top:-30,left:0,right:0,margin:\"0 auto\"}}})),x=function(e){var t=e.allConversations,o=e.allMessages,a=h();return g(b.a,null,g(r.Fragment,null,g(l.a,null),g(!function(){var e=new Error(\"Cannot find module '../components/messages/allMessages'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),{allMessages:o,conversation:t[0]}),g(c.a,{position:\"fixed\",className:a.appBar},g(u.a,{className:a.toolbar},g(!function(){var e=new Error(\"Cannot find module '../components/messages/createMessage'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),{conversation:t[0]})))))};x.getInitialProps=function(e){var t,o,a,r,i,s;return n.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.res,t=e.client,o=e.id,c.prev=1,c.next=4,n.a.awrap(t.request(f,{user:{id:o}}));case 4:if(a=c.sent,console.log(\"conversationsQueryResult\",a),r=a.allConversations,i=[],!r.length){c.next=13;break}return c.next=11,n.a.awrap(t.request(v,{conversation:{id:r[0].id}}));case 11:s=c.sent,i=s.allMessages;case 13:return c.abrupt(\"return\",{allConversations:r,allMessages:i});case 16:c.prev=16,c.t0=c.catch(1),console.error(c.t0),m.a.remove(\"token\"),t.request(\"mutation {\\n            unauthenticateUser {\\n                success\\n            }\\n        }\");case 21:case\"end\":return c.stop()}}),null,null,[[1,16]])},t.default=Object(d.c)(x)}},[[\"TxZt\",0,1,3,2,4,5,6,7,8,9]]]);"}